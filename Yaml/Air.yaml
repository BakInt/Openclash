# ================================================
# OpenClash ä¼˜åŒ–é…ç½®æ¨¡æ¿ --BakInt
#
# ğŸ‰ æ¬¢è¿ä½¿ç”¨ BakInt æ•´ç†çš„ OpenClash é…ç½®æ¨¡æ¿ï¼
# ğŸ“Œ ä½œè€…ï¼šBakInt
#
# ğŸ¤ ç‰¹åˆ«æ„Ÿè°¢ï¼š
#   - MetaCubeX å›¢é˜Ÿæä¾›çš„ä¼˜ç§€è§„åˆ™é›†
#   - blackmatrix7 çš„ iOS Rule Script é¡¹ç›®
#   - liandu2024 çš„ clash é…ç½®åˆ†äº«
#   - ä»¥åŠå…¶ä»–ä¸ºå¼€æºç¤¾åŒºè´¡çŒ®çš„å¤§ä½¬ä»¬
#
# ğŸ“Œ ä½¿ç”¨æç¤ºï¼š
#   1. è¯·è‡ªè¡Œæ·»åŠ æ‚¨çš„æœºåœºè®¢é˜…é“¾æ¥
#   2. å¯æ ¹æ®éœ€è¦è°ƒæ•´ç­–ç•¥ç»„é…ç½®
#   3. å»ºè®®å®šæœŸæ›´æ–°è§„åˆ™é›†ä»¥è·å¾—æœ€ä½³ä½“éªŒ
# âš ï¸ æ³¨æ„ï¼šåˆ†äº«æ—¶è¯·å‹¿åŒ…å«ä¸ªäººè®¢é˜…ä¿¡æ¯
#
# ğŸ“ è¯´æ˜ï¼šæ­¤é…ç½®åŸºäºä¸ªäººä½¿ç”¨ç»éªŒæ•´ç†ï¼Œä»…ä¾›å‚è€ƒ
# ================================================

# æœºåœºèŠ‚ç‚¹è®¢é˜…é…ç½®ç¤ºä¾‹ï¼ˆè¯·æ›¿æ¢ä¸ºæ‚¨çš„å®é™…è®¢é˜…é“¾æ¥ï¼‰
proxy-providers:
  # ç¤ºä¾‹é…ç½® - è¯·æ›¿æ¢ä¸ºæ‚¨çš„å®é™…è®¢é˜…
  # è®¢é˜…1:
  #   url: "æ‚¨çš„è®¢é˜…é“¾æ¥1"
  #   type: http
  #   interval: 86400
  #   health-check:
  #     enable: true
  #     url: https://www.gstatic.com/generate_204
  #     interval: 180
  #   proxy: ç›´è¿

  # è®¢é˜…2:
  #   url: "æ‚¨çš„è®¢é˜…é“¾æ¥2"
  #   type: http
  #   interval: 86400
  #   health-check:
  #     enable: true
  #     url: https://www.gstatic.com/generate_204
  #     interval: 180
  #   proxy: ç›´è¿

# è‡ªå®šä¹‰èŠ‚ç‚¹ç¤ºä¾‹ï¼ˆå¯æŒ‰éœ€æ·»åŠ ï¼‰
proxy-providers:

  # è®¢é˜…æº1
  sub1:
    url: ""  # æ›¿æ¢ä¸ºå®é™…è®¢é˜…åœ°å€
    type: http
    interval: 43200  # 12å°æ—¶æ›´æ–°ä¸€æ¬¡
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204  # å¥åº·æ£€æŸ¥åœ°å€
      interval: 180  # æ¯3åˆ†é’Ÿæ£€æµ‹
    proxy: ç›´è¿  # ä½¿ç”¨ç›´è¿ç½‘ç»œä¸‹è½½è®¢é˜…

# ========================
# æœ¬åœ°èŠ‚ç‚¹å®šä¹‰
# ========================
# è¯´æ˜ï¼š
#   - æ‰€æœ‰æ•æ„Ÿå‡­è¯å·²æ›¿æ¢ä¸ºå ä½ç¬¦
#   - ä¸­è½¬èŠ‚ç‚¹éœ€é…åˆdialer-proxyç­–ç•¥ç»„ä½¿ç”¨
proxies:
  # # è‡ªå®šä¹‰ä¸­è½¬èŠ‚ç‚¹ï¼ˆShadowsocksï¼‰
  # - name: "ä¸­è½¬å®¶å®½ 01"
  #   dialer-proxy: é¦™æ¸¯-æ•…è½¬  # æŒ‡å®šä¸­è½¬é“¾è·¯
  #   type: ss
  #   server: "<ANONYMOUS_SERVER_IP>"  # æ›¿æ¢ä¸ºå®é™…IP
  #   port: <PORT>  # æ›¿æ¢ä¸ºå®é™…ç«¯å£
  #   cipher: "2022-blake3-aes-128-gcm"
  #   password: "<YOUR_SS_PASSWORD>"  # æ›¿æ¢ä¸ºå®é™…å¯†ç 
  #   udp: true  # å¿…é¡»å¯ç”¨UDPæ”¯æŒæ¸¸æˆ/è¯­éŸ³

  # åŸºç¡€ç­–ç•¥èŠ‚ç‚¹
  - {name: ç›´è¿, type: direct}   # ç›´è¿äº’è”ç½‘
  - {name: æ‹’ç», type: reject}   # ä¸¢å¼ƒæ‰€æœ‰æµé‡

# ========================
# æ ¸å¿ƒæœåŠ¡ç«¯å£é…ç½®
# ========================
port: 7890        # HTTP ä»£ç†ç«¯å£
socks-port: 7891  # SOCKS5 ä»£ç†ç«¯å£
redir-port: 7892  # é€æ˜ä»£ç†ç«¯å£
mixed-port: 7893  # æ··åˆä»£ç†ç«¯å£(HTTP+SOCKS5)
tproxy-port: 7895 # TProxy ä¸“ç”¨ç«¯å£

allow-lan: true    # å…è®¸å±€åŸŸç½‘è®¾å¤‡è¿æ¥
mode: rule         # è§„åˆ™æ¨¡å¼ï¼ˆæ”¯æŒ rule/global/directï¼‰
log-level: info    # æ—¥å¿—çº§åˆ«ï¼ˆdebug/info/warning/errorï¼‰

# RESTful API æ§åˆ¶æ¥å£
external-controller: 0.0.0.0:9090
secret: "<YOUR_API_SECRET>"  # API è®¿é—®å¯†é’¥ï¼ˆå¿…é¡»ä¿®æ”¹ï¼ï¼‰

# ========================
# DNS è§£æé…ç½®
# ========================
dns:
  enable: true
  listen: 0.0.0.0:7874       # DNS æœåŠ¡ç›‘å¬ç«¯å£
  ipv6: true                 # å¯ç”¨IPv6è§£æ
  enhanced-mode: fake-ip     # å¢å¼ºæ¨¡å¼ï¼ˆfake-ip é˜²DNSæ±¡æŸ“ï¼‰
  fake-ip-range: 198.20.0.1/16  # è™šæ‹ŸIPåœ°å€æ± 
  nameserver:
    - 223.5.5.5              # é˜¿é‡ŒDNSï¼ˆå›½å†…ï¼‰
    - tls://1.1.1.1          # Cloudflare DoTï¼ˆå›½å¤–ï¼‰
  fake-ip-filter:            # ä¸ä½¿ç”¨fake-ipçš„åŸŸå
    - +.lan
    - +.local
    - geosite:cn             # ä¸­å›½åŸŸåç›´è¿

ipv6: false  # å…¨å±€ç¦ç”¨IPv6ï¼ˆé¿å…ç½‘ç»œé—®é¢˜ï¼‰

# ========================
# TUN è™šæ‹Ÿç½‘å¡é…ç½®
# ========================
# è¯´æ˜ï¼šå¯ç”¨TUNæ¨¡å¼å®ç°å…¨å±€é€æ˜ä»£ç†
tun:
  enable: true               # å¯ç”¨TUNè®¾å¤‡
  stack: gvisor              # ç½‘ç»œåè®®æ ˆï¼ˆæ¨ègvisorï¼‰
  device: utun               # è®¾å¤‡åç§°ï¼ˆLinuxç”¨tun0ï¼‰
  endpoint-independent-nat: true  # ç‹¬ç«‹NATç«¯ç‚¹ï¼ˆè§£å†³æ¸¸æˆé—®é¢˜ï¼‰
  auto-route: false          # ä¸è‡ªåŠ¨è®¾ç½®è·¯ç”±è¡¨
  auto-detect-interface: false   # ä¸è‡ªåŠ¨æ£€æµ‹ç½‘å¡
  auto-redirect: false       # ä¸è‡ªåŠ¨é‡å®šå‘æµé‡
  strict-route: false        # ä¸¥æ ¼è·¯ç”±æ¨¡å¼ï¼ˆç¦ç”¨ï¼‰

# ä¼šè¯æŒä¹…åŒ–é…ç½®
profile:
  store-selected: true       # è®°ä½ç­–ç•¥ç»„é€‰æ‹©
  store-fake-ip: true        # æŒä¹…åŒ–fake-ipæ˜ å°„

# ========================
# ç­–ç•¥ç»„å®šä¹‰
# ========================
# åŸºç¡€æ¨¡æ¿ï¼ˆæ‰€æœ‰ç­–ç•¥ç»„ç»§æ‰¿æ­¤é…ç½®ï¼‰
default: &default
  type: select  # æ‰‹åŠ¨é€‰æ‹©æ¨¡å¼
  proxies:
    - ç›´è¿
    - æ‰€æœ‰-æ™ºé€‰    # æ™ºèƒ½é€‰æ‹©æœ€ä½³èŠ‚ç‚¹
    - æ‰€æœ‰-æ‰‹é€‰    # æ‰‹åŠ¨é€‰æ‹©æ‰€æœ‰èŠ‚ç‚¹
    - é¦™æ¸¯-æ•…è½¬    # é¦™æ¸¯ä¸­è½¬é“¾è·¯
    - å°æ¹¾-æ•…è½¬    # å°æ¹¾ä¸­è½¬é“¾è·¯
    - æ—¥æœ¬-æ•…è½¬    # æ—¥æœ¬ä¸­è½¬é“¾è·¯
    - æ–°åŠ å¡-æ•…è½¬  # æ–°åŠ å¡ä¸­è½¬é“¾è·¯
    - ç¾å›½-æ•…è½¬    # ç¾å›½ä¸­è½¬é“¾è·¯
    - å…¶ä»–-æ•…è½¬    # å…¶ä»–åœ°åŒºé“¾è·¯
    - CF-æ™ºé€‰      # Cloudflareä¸“ç”¨
    - å®¶å®½-æ‰‹é€‰    # å®¶å®½è½åœ°èŠ‚ç‚¹
    - æ‹’ç»

proxy-groups:
  # ========================
  # ä¸šåŠ¡åˆ†æµç­–ç•¥ç»„
  # ========================
  # æŒ‰åº”ç”¨åœºæ™¯åˆ†ç±»ï¼Œç»§æ‰¿defaultæ¨¡æ¿
  - {name: AI, <<: *default}        # AIæœåŠ¡ä¸“ç”¨
  - {name: Streaming, <<: *default} # æµåª’ä½“æœåŠ¡
  - {name: GitHub, <<: *default}    # ä»£ç ä»“åº“åŠ é€Ÿ
  - {name: Chat, <<: *default}      # å³æ—¶é€šè®¯
  - {name: TikTok, <<: *default}    # TikTokåŒºåŸŸè§£é”
  - {name: Google, <<: *default}    # Googleå…¨å®¶æ¡¶
  - {name: Apple, <<: *default}     # Appleç”Ÿæ€æœåŠ¡
  - {name: Microsoft, <<: *default} # å¾®è½¯æœåŠ¡
  - {name: Games, <<: *default}     # æ¸¸æˆåŠ é€Ÿ
  - {name: Crypto, <<: *default}    # äº¤æ˜“æ‰€è®¿é—®
  - {name: Test, <<: *default}      # æµ‹é€ŸèŠ‚ç‚¹
  - {name: Cloudflare, <<: *default} # CFç½‘ç»œä¼˜åŒ–
  - {name: Other, <<: *default}     # æœªåˆ†ç±»æµé‡

  # ========================
  # å…¨å±€ç­–ç•¥ç»„
  # ========================
  # æ‰€æœ‰èŠ‚ç‚¹æ‰‹åŠ¨é€‰æ‹©
  - name: æ‰€æœ‰-æ‰‹é€‰
    type: select
    include-all: true  # åŒ…å«æ‰€æœ‰æä¾›å•†èŠ‚ç‚¹
    filter: "^((?!(ç›´è¿|æ‹’ç»)).)*$"  # æ’é™¤åŸºç¡€ç­–ç•¥èŠ‚ç‚¹

  # æ™ºèƒ½èŠ‚ç‚¹é€‰æ‹©ï¼ˆæœºå™¨å­¦ä¹ ç®—æ³•ï¼‰
  - name: æ‰€æœ‰-æ™ºé€‰
    type: smart
    include-all: true
    policy-priority: ".*é¦™æ¸¯.*:1.5;.*å°æ¹¾.*:1.5"  # ä»…ä¿ç•™åœ°åŒºä¼˜å…ˆçº§
    uselightgbm: true      # å¯ç”¨LightGBMç®—æ³•
    collectdata: true      # æ”¶é›†èŠ‚ç‚¹è´¨é‡æ•°æ®
    health-check: 
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 60         # æ¯åˆ†é’Ÿæ£€æµ‹
      tolerance: 2         # å»¶è¿Ÿå®¹å¿åº¦(ms)
    strategy: sticky-sessions  # ä¼šè¯ä¿æŒ
    interval: 60
    filter: "^((?!(ç›´è¿|æ‹’ç»)).)*$"

  # ========================
  # åœ°åŒºç­–ç•¥ç»„ï¼ˆç¤ºä¾‹ï¼šé¦™æ¸¯ï¼‰
  # ========================
  # ä¸‰çº§ç­–ç•¥ï¼šæ‰‹é€‰ -> æ™ºé€‰ -> æ•…éšœè½¬ç§»
  - name: é¦™æ¸¯-æ•…è½¬
    type: fallback        # æ•…éšœè½¬ç§»æ¨¡å¼
    interval: 180         # æ£€æµ‹é—´éš”(ç§’)
    lazy: false           # ç«‹å³åˆå§‹åŒ–è¿æ¥
    proxies:
      - é¦™æ¸¯-æ‰‹é€‰         # ä¼˜å…ˆä½¿ç”¨æ‰‹åŠ¨é€‰æ‹©
      - é¦™æ¸¯-æ™ºé€‰         # è‡ªåŠ¨å›é€€åˆ°æ™ºèƒ½é€‰æ‹©

  # é¦™æ¸¯èŠ‚ç‚¹æ‰‹åŠ¨é€‰æ‹©
  - name: é¦™æ¸¯-æ‰‹é€‰
    type: select
    include-all: true
    filter: "(?=.*(å¹¿æ¸¯|é¦™æ¸¯|HK|Hong Kong|ğŸ‡­ğŸ‡°|HongKong)).*$"  # æ­£åˆ™åŒ¹é…èŠ‚ç‚¹å

  # é¦™æ¸¯èŠ‚ç‚¹æ™ºèƒ½é€‰æ‹©
  - name: é¦™æ¸¯-æ™ºé€‰
    type: smart
    include-all: true
    policy-priority: ""  # ç§»é™¤æœºåœºæƒé‡ç­–ç•¥
    uselightgbm: true
    collectdata: true
    health-check: 
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 60
      tolerance: 2
    strategy: sticky-sessions
    interval: 60
    filter: "(?=.*(å¹¿æ¸¯|é¦™æ¸¯|HK|Hong Kong|ğŸ‡­ğŸ‡°|HongKong)).*$"

  # å°æ¹¾ç»„
  - name: å°æ¹¾-æ•…è½¬
    type: fallback
    interval: 180
    lazy: false
    proxies:
      - å°æ¹¾-æ‰‹é€‰
      - å°æ¹¾-æ™ºé€‰
  - name: å°æ¹¾-æ‰‹é€‰
    type: select
    include-all: true
    filter: "(?=.*(å¹¿å°|å°æ¹¾|å°ç£|TW|Tai Wan|ğŸ‡¹ğŸ‡¼|ğŸ‡¨ğŸ‡³|TaiWan|Taiwan)).*$"
  - name: å°æ¹¾-æ™ºé€‰
    type: smart
    include-all: true
    policy-priority: ""  # ç§»é™¤æœºåœºæƒé‡
    uselightgbm: true
    collectdata: true
    health-check: 
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 60
      tolerance: 2
    strategy: sticky-sessions
    interval: 60
    filter: "(?=.*(å¹¿å°|å°æ¹¾|å°ç£|TW|Tai Wan|ğŸ‡¹ğŸ‡¼|ğŸ‡¨ğŸ‡³|TaiWan|Taiwan)).*$"

  # æ—¥æœ¬ç»„
  - name: æ—¥æœ¬-æ•…è½¬
    type: fallback
    interval: 180
    lazy: false
    proxies:
      - æ—¥æœ¬-æ‰‹é€‰
      - æ—¥æœ¬-æ™ºé€‰
  - name: æ—¥æœ¬-æ‰‹é€‰
    type: select
    include-all: true
    filter: "(?=.*(å¹¿æ—¥|æ—¥æœ¬|JP|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|ğŸ‡¯ğŸ‡µ|Japan)).*$"
  - name: æ—¥æœ¬-æ™ºé€‰
    type: smart
    include-all: true
    policy-priority: ""  # ç§»é™¤æœºåœºæƒé‡
    uselightgbm: true
    collectdata: true
    health-check: 
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 60
      tolerance: 2
    strategy: sticky-sessions
    interval: 60
    filter: "(?=.*(å¹¿æ—¥|æ—¥æœ¬|JP|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|ğŸ‡¯ğŸ‡µ|Japan)).*$"

  # æ–°åŠ å¡ç»„
  - name: æ–°åŠ å¡-æ•…è½¬
    type: fallback
    interval: 180
    lazy: false
    proxies:
      - æ–°åŠ å¡-æ‰‹é€‰
      - æ–°åŠ å¡-æ™ºé€‰
  - name: æ–°åŠ å¡-æ‰‹é€‰
    type: select
    include-all: true
    filter: "(?=.*(å¹¿æ–°|æ–°åŠ å¡|SG|å¡|ç‹®åŸ|ğŸ‡¸ğŸ‡¬|Singapore)).*$"
  - name: æ–°åŠ å¡-æ™ºé€‰
    type: smart
    include-all: true
    policy-priority: ""  # ç§»é™¤æœºåœºæƒé‡
    uselightgbm: true
    collectdata: true
    health-check: 
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 60
      tolerance: 2
    strategy: sticky-sessions
    interval: 60
    filter: "(?=.*(å¹¿æ–°|æ–°åŠ å¡|SG|å¡|ç‹®åŸ|ğŸ‡¸ğŸ‡¬|Singapore)).*$"

  # ç¾å›½ç»„
  - name: ç¾å›½-æ•…è½¬
    type: fallback
    interval: 180
    lazy: false
    proxies:
      - ç¾å›½-æ‰‹é€‰
      - ç¾å›½-æ™ºé€‰
  - name: ç¾å›½-æ‰‹é€‰
    type: select
    include-all: true
    filter: "(?=.*(å¹¿ç¾|ç¾|US|çº½çº¦|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’|å‡¤å‡°åŸ|è´¹åˆ©è’™|æ‹‰æ–¯|æ´›æ‰|åœ£ä½•å¡|åœ£å…‹æ‹‰|è¥¿é›…|èŠåŠ |ğŸ‡ºğŸ‡¸|United States)).*$"
  - name: ç¾å›½-æ™ºé€‰
    type: smart
    include-all: true
    policy-priority: ""  # ç§»é™¤æœºåœºæƒé‡
    uselightgbm: true
    collectdata: true
    health-check: 
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 60
      tolerance: 2
    strategy: sticky-sessions
    interval: 60
    filter: "(?=.*(å¹¿ç¾|ç¾|US|çº½çº¦|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’|å‡¤å‡°åŸ|è´¹åˆ©è’™|æ‹‰æ–¯|æ´›æ‰|åœ£ä½•å¡|åœ£å…‹æ‹‰|è¥¿é›…|èŠåŠ |ğŸ‡ºğŸ‡¸|United States)).*$"

  # å…¶ä»–åœ°åŒºç»„
  - name: å…¶ä»–-æ•…è½¬
    type: fallback
    interval: 180
    lazy: false
    proxies:
      - å…¶ä»–-æ‰‹é€‰
      - å…¶ä»–-æ™ºé€‰
  - name: å…¶ä»–-æ‰‹é€‰
    type: select
    include-all: true
    filter: "^((?!(ç›´è¿|æ‹’ç»|å¹¿æ¸¯|é¦™æ¸¯|HK|Hong Kong|ğŸ‡­ğŸ‡°|HongKong|å¹¿å°|å°æ¹¾|å°ç£|TW|Tai Wan|ğŸ‡¹ğŸ‡¼|ğŸ‡¨ğŸ‡³|TaiWan|Taiwan|å¹¿æ—¥|æ—¥æœ¬|JP|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|ğŸ‡¯ğŸ‡µ|Japan|å¹¿æ–°|æ–°åŠ å¡|SG|å¡|ç‹®åŸ|ğŸ‡¸ğŸ‡¬|Singapore|å¹¿ç¾|ç¾|US|çº½çº¦|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’|å‡¤å‡°åŸ|è´¹åˆ©è’™|æ‹‰æ–¯|æ´›æ‰|åœ£ä½•å¡|åœ£å…‹æ‹‰|è¥¿é›…|èŠåŠ |ğŸ‡ºğŸ‡¸|United States)).)*$"

  - name: å…¶ä»–-æ™ºé€‰
    type: smart
    include-all: true
    policy-priority: ".*é¦™æ¸¯.*:1.5;.*å°æ¹¾.*:1.5"  # ä»…ä¿ç•™åœ°åŒºä¼˜å…ˆçº§
    uselightgbm: true
    collectdata: true
    health-check: 
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 60
      tolerance: 2
    strategy: sticky-sessions
    interval: 60
    filter: "^((?!(ç›´è¿|æ‹’ç»|å¹¿æ¸¯|é¦™æ¸¯|HK|Hong Kong|ğŸ‡­ğŸ‡°|HongKong|å¹¿å°|å°æ¹¾|å°ç£|TW|Tai Wan|ğŸ‡¹ğŸ‡¼|ğŸ‡¨ğŸ‡³|TaiWan|Taiwan|å¹¿æ—¥|æ—¥æœ¬|JP|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|ğŸ‡¯ğŸ‡µ|Japan|å¹¿æ–°|æ–°åŠ å¡|SG|å¡|ç‹®åŸ|ğŸ‡¸ğŸ‡¬|Singapore|å¹¿ç¾|ç¾|US|çº½çº¦|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’|å‡¤å‡°åŸ|è´¹åˆ©è’™|æ‹‰æ–¯|æ´›æ‰|åœ£ä½•å¡|åœ£å…‹æ‹‰|è¥¿é›…|èŠåŠ |ğŸ‡ºğŸ‡¸|United States|ä¸­è½¬å®¶å®½)).)*$"

  # CFä¸“ç”¨ç»„
  - name: CF-æ™ºé€‰
    type: smart
    include-all: true
    uselightgbm: true
    collectdata: true
    health-check: 
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 300
      tolerance: 0
    strategy: sticky-sessions
    interval: 300
    filter: "(?=.*(CF|cf)).*$"

  # å®¶å®½è½åœ°èŠ‚ç‚¹
  - name: å®¶å®½-æ‰‹é€‰
    type: select
    include-all: true
    filter: "(?=.*(ä¸­è½¬å®¶å®½)).*$"

# ========================
# è§„åˆ™å¼•æ“é…ç½®
# ========================
# è¯´æ˜ï¼šè§„åˆ™æŒ‰é¡ºåºåŒ¹é…ï¼Œä¼˜å…ˆçº§ä»ä¸Šåˆ°ä¸‹
rules:
  # ä¸šåŠ¡åˆ†æµè§„åˆ™
  - RULE-SET,TEST / Domain,Test
  - RULE-SET,GitHub / Domain,GitHub
  - RULE-SET,ChatGPT / Domain,AI
  - RULE-SET,Claude / Domain,AI
  - RULE-SET,Copilot / Domain,AI
  - RULE-SET,Gemini / Domain,AI
  - RULE-SET,Groq / Domain,AI
  - RULE-SET,Grok / Domain,AI
  - RULE-SET,Meta AI / Domain,AI
  - RULE-SET,Perplexity / Domain,AI
  - RULE-SET,Microsoft / Domain,Microsoft
  - RULE-SET,Apple / Domain,Apple
  - RULE-SET,OKX / Domain,Crypto
  - RULE-SET,Bybit / Domain,Crypto
  - RULE-SET,Binance / Domain,Crypto
  - RULE-SET,TikTok / Domain,TikTok
  - RULE-SET,Netflix / Domain,Streaming
  - RULE-SET,Netflix / IP,Streaming,no-resolve
  - RULE-SET,Disney / Domain,Streaming
  - RULE-SET,Amazon / Domain,Streaming
  - RULE-SET,HBO / Domain,Streaming
  - RULE-SET,Crunchyroll / Domain,Streaming
  - RULE-SET,Popcorn / Domain,Streaming  
  - RULE-SET,Spotify / Domain,Streaming
  - RULE-SET,Youtube / Domain,Streaming
  - RULE-SET,Steam / Domain,Games
  - RULE-SET,Epic / Domain,Games
  - RULE-SET,EA / Domain,Games
  - RULE-SET,Blizzard / Domain,Games
  - RULE-SET,UBI / Domain,Games
  - RULE-SET,PlayStation / Domain,Games
  - RULE-SET,Nintend / Domain,Games
  - RULE-SET,Reddit / Domain,Streaming  
  - RULE-SET,Twitter / Domain,Chat  
  - RULE-SET,WhatsApp / Domain,Chat  
  - RULE-SET,Facebook / Domain,Chat  
  - RULE-SET,Telegram / Domain,Chat  
  - RULE-SET,Telegram / IP,Chat,no-resolve
  - RULE-SET,Google / Domain,Google  
  - RULE-SET,Google / IP,Google,no-resolve
  - RULE-SET,Cloudflare / Domain,Cloudflare
  - MATCH,Other

# ========================
# è§„åˆ™é›†æä¾›è€…
# ========================
rule-anchor:
  ip: &ip {type: http, interval: 86400, behavior: ipcidr, format: mrs}
  domain: &domain {type: http, interval: 86400, behavior: domain, format: mrs}
  class: &class {type: http, interval: 86400, behavior: classical, format: text}

rule-providers:
  TEST / Domain: {<<: *class, url: "https://ghfast.top/raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/Check.list"}
  ChatGPT / Domain: {<<: *domain, url: "https://ghfast.top/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/openai.mrs"}
  Claude / Domain: {<<: *class, url: "https://ghfast.top/raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Claude/Claude.list"}
  Meta AI / Domain: {<<: *class, url: "https://ghfast.top/raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/MetaAi.list"}
  Perplexity / Domain: {<<: *domain, url: "https://ghfast.top/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/perplexity.mrs"}
  Copilot / Domain: {<<: *class, url: "https://ghfast.top/raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/Copilot.list"}
  Gemini / Domain: {<<: *class, url: "https://ghfast.top/raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/Gemini.list"}
  GitHub / Domain: {<<: *domain, url: "https://ghfast.top/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/github.mrs"}
  Amazon / Domain: {<<: *domain, url: "https://ghfast.top/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/amazon.mrs"}
  Apple / Domain: {<<: *domain, url: "https://ghfast.top/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/apple.mrs"} 
  Microsoft / Domain: {<<: *domain, url: "https://ghfast.top/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/microsoft.mrs"}
  OKX / Domain: {<<: *domain, url: "https://ghfast.top/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/okx.mrs"}
  Bybit / Domain: {<<: *domain, url: "https://ghfast.top/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/bybit.mrs"}
  Binance / Domain: {<<: *domain, url: "https://ghfast.top/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/binance.mrs"}
  TikTok / Domain: {<<: *domain, url: "https://ghfast.top/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/tiktok.mrs"}
  Netflix / Domain: {<<: *domain, url: "https://ghfast.top/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/netflix.mrs"}
  Netflix / IP: {<<: *ip, url: "https://ghfast.top/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geoip/netflix.mrs"}
  Disney / Domain: {<<: *domain, url: "https://ghfast.top/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/disney.mrs"}
  HBO / Domain: {<<: *domain, url: "https://ghfast.top/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/hbo.mrs"}
  Spotify / Domain: {<<: *domain, url: "https://ghfast.top/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/spotify.mrs"}
  Steam / Domain: {<<: *domain, url: "https://ghfast.top/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/steam.mrs"}
  Epic / Domain: {<<: *class, url: "https://ghfast.top/raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Epic/Epic.list"}
  EA / Domain: {<<: *class, url: "https://ghfast.top/raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/EA/EA.list"}
  Blizzard / Domain: {<<: *class, url: "https://ghfast.top/raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Blizzard/Blizzard.list"}
  UBI / Domain: {<<: *class, url: "https://ghfast.top/raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/UBI/UBI.list"}
  PlayStation / Domain: {<<: *class, url: "https://ghfast.top/raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/PlayStation/PlayStation.list"}
  Nintend / Domain: {<<: *class, url: "https://ghfast.top/raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Nintendo/Nintendo.list"}
  Crunchyroll / Domain: {<<: *class, url: "https://ghfast.top/raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/Crunchyroll.list"}
  Reddit / Domain: {<<: *domain, url: "https://ghfast.top/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/reddit.mrs"}
  Groq / Domain: {<<: *domain, url: "https://ghfast.top/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/groq.mrs"}
  Grok / Domain: {<<: *class, url: "https://ghfast.top/raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/Grok.list"}
  Popcorn / Domain: {<<: *class, url: "https://ghfast.top/raw.githubusercontent.com/liandu2024/clash/refs/heads/main/list/Popcorn.list"}
  Twitter / Domain: {<<: *domain, url: "https://ghfast.top/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/x.mrs"}
  WhatsApp / Domain: {<<: *domain, url: "https://ghfast.top/github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/whatsapp.mrs"}
  Facebook / Domain: {<<: *domain, url: "https://ghfast.top/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/facebook.mrs"}
  Telegram / Domain: {<<: *domain, url: "https://ghfast.top/github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/telegram.mrs"}  
  Telegram / IP: {<<: *ip, url: "https://ghfast.top/github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geoip/telegram.mrs"}
  Youtube / Domain: {<<: *domain, url: "https://ghfast.top/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/youtube.mrs"}  
  Google / Domain: {<<: *domain, url: "https://ghfast.top/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geosite/google.mrs"}  
  Google / IP: {<<: *ip, url: "https://ghfast.top/github.com/metacubex/meta-rules-dat/raw/refs/heads/meta/geo/geoip/google.mrs"}
  Cloudflare / Domain: {<<: *domain, url: "https://ghfast.top/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/cloudflare.mrs"}  
